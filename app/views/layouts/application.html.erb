<!DOCTYPE HTML>
<html data-theme="cyber">
  <head>
    <title>Speedpastes</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <%= yield :head %>
    <% unless content_for?(:head) %>
      <meta property="og:title" content="Speedpastes">
      <meta property="og:description" content="A simple, ad and virus-free, invite-only text sharing platform">
    <% end %>
    

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;500;700&display=swap" rel="stylesheet">


    <script>
      (function () {
        var t = localStorage.getItem("theme");
        if (t) document.documentElement.setAttribute("data-theme", t);
      })();
    </script>

    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_link_tag "tailwind", "data-turbo-track": "reload" %>
    <%= favicon_link_tag asset_path("favicon.png") %>
    <%= javascript_importmap_tags %>
  </head>

  <body class="min-h-screen bg-[var(--bg)] text-[var(--text)]">
    <%= render "shared/navbar" %>

    <div class="max-w-5xl mx-auto px-4 py-6">
      <% flash.each do |type, msg| %>
        <div class="mb-4 border border-[var(--border)] bg-[var(--surface)] px-4 py-3 text-sm shadow-sm">
          <%= msg %>
        </div>
      <% end %>

      <%= yield %>
    </div>

    <footer class="py-10 text-center text-xs text-[var(--muted)]">
      <div class="max-w-5xl mx-auto px-4 py-4 flex flex-col md:flex-row items-center justify-between text-xs gap-4 md:gap-0">
        <div>&copy; 2025 - <%= Time.current.year %> speedpastes.org | 
        <%= link_to "Privacy Policy", privacy_path, class: link_class(variant: :muted, size: :xs) %>  | 
        <%= link_to "Terms of Service", terms_path, class: link_class(variant: :muted, size: :xs) %> | 
        by <a href="https://github.com/rjoken/speedpastes" class="<%= link_class(variant: :muted, size: :xs) %>" target="_blank" rel="noopener noreferrer">rjoken</a> x | 
        <a href="https://buymeacoffee.com/hippochan" class="<%= link_class(variant: :muted, size: :xs) %>" target="_blank" rel="noopener noreferrer">pay off my student loans</a></div>
        <div data-controller="theme" class="flex items-center gap-2">
          <label for="theme">theme:</label>
          <select id="theme" class="<%= button_class(variant: :default, size: :xs) %>" data-theme-target="select" data-action="change->theme#change">
            <option value="cyber">cyber</option>
            <option value="hospital">hospital</option>
          </select>
        </div>
      </div>
    </footer>
  </body>
</html>
