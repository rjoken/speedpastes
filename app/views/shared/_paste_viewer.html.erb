<% lines = content.to_s.split("\n", -1) %>

<div class="border border-[var(--border)] bg-[var(--surface)] shadow-sm overflow-auto">
  <ol class="m-0 p-0 list-none font-mono text-sm leading-5">
    <% lines.each_with_index do |line, index| %>
      <li class="flex min-w-0">
        <!-- gutter -->
        <div class="select-none shrink-0 w-14 bg-[var(--surface2)] border-r border-[var(--border-muted)] text-right pr-2 pl-2 py-0 text-[var(--muted)]">
          <%= index + 1 %>
        </div>

        <!-- content -->
        <div class="m-0 flex-1 min-w-0 px-3 py-0 break-words" style="white-space: pre-wrap;"><%= line.empty? ? "\u00A0" : h(line) %></div>
      </li>
    <% end %>
  </ol>
</div>
