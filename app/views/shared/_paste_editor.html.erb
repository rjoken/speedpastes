<%# locals: f:, field:, rows: (optional), placeholder: (optional), autosave: (optional) %>
<div class="border border-[var(--border)] bg-[var(--surface)] shadow-sm overflow-hidden" data-controller="linenumbers-editor">
    <div class="flex max-h-[480px] overflow-hidden">
        <pre class="select-none shrink-0 w-14 bg-[var(--surface2)] overflow-hidden border-r border-[var(--border-muted)] text-right pr-2 pl-2 py-3 font-mono text-sm leading-5 text-[var(--muted)]"
            data-linenumbers-editor-target="numbers"
            aria-hidden="true"
        ></pre>

        <%= f.text_area field,
            rows: (local_assigns[:rows] || 12),
            placeholder: (local_assigns[:placeholder] || ""),
            wrap: "off",
            class: "flex-1 resize-none overflow-auto px-3 py-3 font-mono text-sm leading-5 focus:outline-none",
            data: {
                linenumbers_editor_target: "input",
                action: "input->linenumbers-editor#update scroll->linenumbers-editor#syncScroll keydown->linenumbers-editor#keydown"
            }.merge(local_assigns[:autosave] ? { autosave_target: "input" } : {})
        %>
    </div>
</div>
