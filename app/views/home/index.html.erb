<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
  <!-- Main content -->
  <div class="md:col-span-2">
  <%= render "shared/heading", title: "Welcome to speedpastes", description: (safe_join(["Speedpastes is an ", link_to("open-source", "https://github.com/rjoken/speedpastes", class: link_class(variant: :muted), target: "_blank", rel: "noopener"), ", ad-free, invite-only text sharing platform made for speedrunners, diarists, and whoever else needs to jot and share. Paste your notes, ideas, strategies and more, then link to them quickly and easily."])) do %>
      <% if signed_in? %>
          <%= render "shared/createpaste" %>
      <% else %>
          <div class="p-4 text-sm text-[var(--muted)]">
            Please <%= link_to "log in", login_path, class: link_class %> or <%= link_to "sign up", signup_path, class: link_class %> to create a new paste.
          </div>
      <% end %>
    <% end %>
  </div>
  <!-- Sidebar -->
  <aside class="md:col-span-1">
    <%= render "shared/heading", title: "Latest Public Pastes" do %>
      <div class="p-3 space-y-3">
        <% @latest_pastes.each do |paste| %>
          <div class="text-sm">
            <div class="flex items-center justify-between gap-2">
              <%= link_to short_paste_path(paste.shortcode), class: link_class(variant: :bold) do %>
                <%= paste.title %>
              <% end %>
              <span class="text-xs text-[var(--muted)]"><%= time_ago_in_words(paste.created_at) %> ago</span>
            </div>
            <div class="text-xs text-[var(--muted)]">by <%= link_to "#{paste.user.username}", profile_path(paste.user.id), class: link_class(variant: :muted) %></div>
          </div>
        <% end %>

        <% if @latest_pastes.empty? %>
          <div class="text-sm text-[var(--muted)]">
            No public pastes yet.
          </div>
        <% end %>
      </div>
    <% end %>
  </aside>
</div>
